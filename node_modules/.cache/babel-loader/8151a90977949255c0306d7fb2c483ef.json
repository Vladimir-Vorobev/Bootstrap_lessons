{"remainingRequest":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\AllEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\AllEvents.vue","mtime":1594106006451},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBuZWVkbGUgZnJvbSAnbmVlZGxlJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWxsRXZlbnRzJywKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFtdCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS5zZXJ2ZXJJcCArICcvYXBpL2dldEFsbEV2ZW50cycsIHsKICAgICAgbWV0aG9kOiAnZ2V0JwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2coInJlcyIsIHJlc3BvbnNlKTsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFuKSB7CiAgICAgIGlmIChfdGhpcy4kcm91dGUucGF0aCA9PSAnL2l0LWV2ZW50cycpIF90aGlzLmRhdGEgPSBkYXRhbi5wcm9ncmFtbWluZztlbHNlIGlmIChfdGhpcy4kcm91dGUucGF0aCA9PSAnL3NlcnZpY2UtZXZlbnRzJykgX3RoaXMuZGF0YSA9IGRhdGFuLnNlcnZpY2U7ZWxzZSBfdGhpcy5kYXRhID0gZGF0YW4uZW5nZW5pcmluZzsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogX3RoaXMyLiRzdG9yZS5nZXR0ZXJzLmFsbEV2ZW50c1Njcm9sbCwKICAgICAgICBiZWhhdmlvcjogJ2F1dG8nCiAgICAgIH0pOwogICAgfSwgNTAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0FMTF9FVkVOVFNfU0NST0xMJywgMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChldmVudCkgewogICAgICB2YXIgZW1haWwgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsOwogICAgICB2YXIgU2Vzc2lvbklEID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5TZXNzaW9uSUQ7CgogICAgICBpZiAoZW1haWwgIT0gJycpIHsKICAgICAgICBkZWxldGUgZXZlbnQucGxhY2VzOwogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoID09ICcvaXQtZXZlbnRzJykgZXZlbnQubWFpblR5cGUgPSAncHJvZ3JhbW1pbmcnO2Vsc2UgaWYgKHRoaXMuJHJvdXRlLnBhdGggPT0gJy9zZXJ2aWNlLWV2ZW50cycpIGV2ZW50Lm1haW5UeXBlID0gJ3NlcnZpY2UnO2Vsc2UgZXZlbnQubWFpblR5cGUgPSAnZW5nZW5pcmluZyc7CiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgIG5lZWRsZS5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLnNlcnZlcklwICsgJy9hcGkvY2hlY2tlZEV2ZW50c1VwZGF0ZScsIHsKICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgIGV2ZW50czogZXZlbnQsCiAgICAgICAgICBzZXNzaW9uaWQ6IFNlc3Npb25JRAogICAgICAgIH0sIHsKICAgICAgICAgICJqc29uIjogdHJ1ZQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlcykgewogICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyOwoKICAgICAgICAgIGlmIChyZXMuYm9keSA9PSAnMzEwJykgewogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiZW1haWw9IiArICI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCI7CiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9ICJTZXNzaW9uSUQ9IiArICI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCI7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL2FsZXJ0KCfQnNC10YDQvtC/0YDQuNGP0YLQuNC1INGD0YHQv9C10YjQvdC+INC00L7QsdCw0LLQu9C10L3QvicpCiAgICAgICAgICAgIFZ1ZS5zd2FsKHsKICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgdGV4dDogJ9Cc0LXRgNC+0L/RgNC40Y/RgtC40LUg0YPRgdC/0LXRiNC90L4g0LTQvtCx0LDQstC70LXQvdC+JywKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDE1MDAsCiAgICAgICAgICAgICAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICB0aXRsZTogJ9CS0Ysg0L3QtSDQsNCy0YLQvtGA0LjQt9C+0LLQsNC90YshJywKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ9CQ0LLRgtC+0YDQuNC30L7QstCw0YLRjNGB0Y8nLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ9Ce0YLQvNC10L3QsCcKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID0gIi9sb2dpbiI7CiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID0gIi9sb2dpbiIKICAgICAgfQogICAgfSwKICAgIHNldFNjcm9sbDogZnVuY3Rpb24gc2V0U2Nyb2xsKCkgewogICAgICBkb2N1bWVudC5jb29raWUgPSAiYWxsRXZlbnRzU2Nyb2xsPSIgKyB3aW5kb3cucGFnZVlPZmZzZXQ7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AllEvents.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"container warp\">\r\n            <div class=\"card\">\r\n                <div class=\"card-body row\">\r\n                    <div class=\"col-md-5 col-12\"> <p class=\"card-text\" style=\"font-weight: bold; font-size: 1.3em\">Сортировка мероприятий: </p> </div> \r\n                        <!-- <div class=\"col-md-7 col-12\" v-if=\"this.$route.path == '/all-events'\"> \r\n                            <select class=\"custom-select custom-select-sm mb-3 events \" onchange=\"location.href=this.value\">\r\n                                <option value=\"/all-events\">Все</option>\r\n                                <option value=\"/it-events\" selected>IT</option>\r\n                                <option value=\"/engineering-events\">Инженерия</option>\r\n                                <option value=\"/service-events\">Сфера услуг</option>\r\n                            </select>\r\n                        </div> -->\r\n                        <div class=\"col-md-7 col-12\" v-if=\"this.$route.path == '/it-events'\"> \r\n                            <select class=\"custom-select custom-select-sm mb-3 events\" onchange=\"location.href=this.value\">\r\n                                <!-- <option value=\"/all-events\">Все</option> -->\r\n                                <option value=\"/it-events\" selected>IT</option>\r\n                                <option value=\"/engineering-events\">Инженерия</option>\r\n                                <option value=\"/service-events\">Сфера услуг</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-md-7 col-12\" v-else-if=\"this.$route.path == '/service-events'\"> \r\n                            <select class=\"custom-select custom-select-sm mb-3 events\" onchange=\"location.href=this.value\">\r\n                                <!-- <option value=\"/all-events\">Все</option> -->\r\n                                <option value=\"/it-events\">IT</option>\r\n                                <option value=\"/engineering-events\">Инженерия</option>\r\n                                <option value=\"/service-events\" selected>Сфера услуг</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-md-7 col-12\" v-else> \r\n                            <select class=\"custom-select custom-select-sm mb-3 events\" onchange=\"location.href=this.value\">\r\n                                <!-- <option value=\"/all-events\">Все</option> -->\r\n                                <option value=\"/it-events\">IT</option>\r\n                                <option value=\"/engineering-events\" selected>Инженерия</option>\r\n                                <option value=\"/service-events\">Сфера услуг</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card\" v-for=\"item in data\" :key=\"item.value\">\r\n                    <div class=\"card-header\">{{item.date}}</div>\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{item.name}}</h5>\r\n                        <p class=\"card-text\"><i class=\"far fa-clock\"></i> {{item.time}}</p>\r\n                        <p class=\"card-text\"><i class=\"far fa-user\"></i> {{item.places}}</p>\r\n                        <p class=\"card-text\">Тип: {{item.type}}</p>\r\n                        <p><button class=\"btn btn-outline-info\"  @click=\"add(item)\">Собираюсь посетить</button></p>\r\n                        <a :href=\"item.link\" class=\"btn btn-primary\" @click=\"setScroll()\">Перейти к мероприятию</a>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        <div class=\"footer\"><Footer></Footer></div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport needle from 'needle'\r\nimport Vue from 'vue';\r\nimport Footer from './footer.vue'\r\nexport default {\r\n    name: 'AllEvents',\r\n    components: { Footer },\r\n    data(){\r\n        return{\r\n            data: [],\r\n        }\r\n    },\r\n    beforeMount(){\r\n        fetch(this.$store.state.serverIp+'/api/getAllEvents', {\r\n            method: 'get',\r\n        })\r\n        .then(response => {\r\n            console.log(\"res\", response)\r\n            return response.json()\r\n        })\r\n        .then(datan => {\r\n            if(this.$route.path == '/it-events') this.data = datan.programming\r\n            else if(this.$route.path == '/service-events') this.data = datan.service\r\n            else this.data = datan.engeniring\r\n        })\r\n    },\r\n    mounted(){\r\n        setTimeout(() => {\r\n            window.scrollTo({\r\n                top: this.$store.getters.allEventsScroll,\r\n                behavior: 'auto'\r\n            });\r\n        }, 500);\r\n        this.$store.commit('SET_ALL_EVENTS_SCROLL', 0)\r\n    },\r\n    methods:{\r\n        add(event){\r\n            let email = this.$store.getters.email\r\n            let SessionID = this.$store.getters.SessionID\r\n            if(email != ''){\r\n                delete event.places\r\n                if(this.$route.path == '/it-events') event.mainType = 'programming'\r\n                else if(this.$route.path == '/service-events') event.mainType = 'service'\r\n                else event.mainType = 'engeniring'\r\n                console.log(event)\r\n                needle.post(this.$store.state.serverIp+'/api/checkedEventsUpdate', {email: email, events: event, sessionid: SessionID}, {\"json\": true}, function(err, res){\r\n                    if (err) throw err\r\n                    if(res.body == '310'){\r\n                        document.cookie = \"email=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                        document.cookie = \"SessionID=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                        window.location.href = '/login'\r\n                    }\r\n                    else{\r\n                        //alert('Мероприятие успешно добавлено')\r\n                        Vue.swal({\r\n                            icon: 'success',\r\n                            text: 'Мероприятие успешно добавлено',\r\n                            showConfirmButton: false,\r\n                            timer: 1500,\r\n                            timerProgressBar: true,\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n            else{\r\n                this.$swal({\r\n                    icon: 'error',\r\n                    title: 'Вы не авторизованы!',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Авторизоваться',\r\n                    cancelButtonText: 'Отмена'\r\n                }).then((result) => {\r\n                    if (result.value) {\r\n                        window.location.pathname = \"/login\"\r\n                    }\r\n                });\r\n                //window.location.pathname = \"/login\"\r\n            }\r\n        },\r\n        setScroll(){\r\n            document.cookie = \"allEventsScroll=\" + window.pageYOffset\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp{\r\n    flex: 1 0 auto;\r\n}\r\n.footer{\r\n    flex: 0 0 auto;\r\n}\r\n.main{\r\n    display: flex;\r\n\tflex-direction: column;\r\n    padding-top: 110px !important;\r\n}\r\n.main{\r\n    background-color: #eef5ff;\r\n    height: 100%;\r\n    padding: 30px 0px 0px;\r\n    min-height: 100vh;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.card{ \r\n    margin-top: 10px !important; \r\n}\r\n.card-body{ \r\n    text-align: left !important;\r\n}\r\n.card-body h5{\r\n    font-weight: bold;\r\n}\r\n.card-header{\r\n    font-weight: bold;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}