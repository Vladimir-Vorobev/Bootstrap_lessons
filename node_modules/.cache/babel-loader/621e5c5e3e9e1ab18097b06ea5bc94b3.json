{"remainingRequest":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\YourEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\YourEvents.vue","mtime":1594106006503},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBuZWVkbGUgZnJvbSAnbmVlZGxlJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnWW91ckV2ZW50cycsCiAgY29tcG9uZW50czogewogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbXQogICAgfTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGVtYWlsID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5lbWFpbDsKICAgIHZhciBTZXNzaW9uSUQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLlNlc3Npb25JRDsKICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnNlcnZlcklwICsgJy9hcGkvZ2V0Q2hlY2tlZEV2ZW50cycsIHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgaGVhZGVyczogewogICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICBzZXNzaW9uaWQ6IFNlc3Npb25JRAogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZygicmVzIiwgcmVzcG9uc2UpOwogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PSAnMzEwJykgewogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9ICJlbWFpbD0iICsgIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIjsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiU2Vzc2lvbklEPSIgKyAiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQiOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBfdGhpcy5kYXRhID0gZGF0YS5jaGVja2VkRXZlbnRzOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVFdmVudDogZnVuY3Rpb24gZGVsZXRlRXZlbnQoZXZlbnRzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgIHRpdGxlOiAn0JLRiyDRg9Cy0LXRgNC10L3RiyDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMPycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn0JTQsCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ9Ce0YLQvNC10L3QsCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHZhciBlbWFpbCA9IF90aGlzMi4kc3RvcmUuZ2V0dGVycy5lbWFpbDsKICAgICAgICAgIHZhciBTZXNzaW9uSUQgPSBfdGhpczIuJHN0b3JlLmdldHRlcnMuU2Vzc2lvbklEOwogICAgICAgICAgbmVlZGxlLnBvc3QoX3RoaXMyLiRzdG9yZS5zdGF0ZS5zZXJ2ZXJJcCArICcvYXBpL2RlbGV0ZUV2ZW50JywgewogICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgIGV2ZW50OiBldmVudHMsCiAgICAgICAgICAgIHNlc3Npb25pZDogU2Vzc2lvbklECiAgICAgICAgICB9LCB7CiAgICAgICAgICAgICJqc29uIjogdHJ1ZQogICAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7CiAgICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7CgogICAgICAgICAgICBpZiAocmVzLmJvZHkgPT0gJzMxMCcpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiZW1haWw9IiArICI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCI7CiAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gIlNlc3Npb25JRD0iICsgIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIjsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBWdWUuc3dhbCh7CiAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIHRleHQ6ICfQnNC10YDQvtC/0YDQuNGP0YLQuNC1INGD0YHQv9C10YjQvdC+INGD0LTQsNC70LXQvdC90L4nLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0aW1lcjogMTUwMCwKICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["YourEvents.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"main\" id=\"main\">\r\n        <div class=\"container warp\">\r\n            <div v-if=\"data.length == 0\"><h3>Возможно, Вы еще не добавили ни одного мероприятия, посмотрите страницу всех мероприятий</h3></div>\r\n            <div class=\"card\" v-for=\"item in data\" :key=\"item.value\">\r\n                <div class=\"card-header\">{{item.date}}</div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <h5 class=\"card-title col-11\">{{item.name}}</h5>\r\n                        <h5><button class=\"btn btn-danger\" @click=\"deleteEvent(item)\"> <i class=\"fas fa-trash-alt\"></i> </button></h5>\r\n                    </div>\r\n                    <p class=\"card-text\"><i class=\"far fa-clock\"></i> {{item.time}}</p>\r\n                    <p class=\"card-text\">Тип: {{item.type}}</p>\r\n                    <a :href=\"item.link\" class=\"btn btn-primary\">Перейти к мероприятию</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"footer\"><Footer></Footer></div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport needle from 'needle'\r\nimport Vue from 'vue';\r\nimport Footer from './footer.vue'\r\nexport default {\r\n    name: 'YourEvents',\r\n    components: { Footer },\r\n    data(){\r\n        return{\r\n            data: []\r\n        }\r\n    },\r\n     beforeMount(){\r\n        let email = this.$store.getters.email\r\n        let SessionID = this.$store.getters.SessionID\r\n        fetch(this.$store.state.serverIp+'/api/getCheckedEvents', {\r\n            method: 'get',\r\n            headers: {email: email, sessionid: SessionID},\r\n\t\t})\r\n        .then(response => {\r\n            console.log(\"res\", response)\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n            if(data == '310'){\r\n                document.cookie = \"email=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                document.cookie = \"SessionID=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                window.location.href = '/login'\r\n            }\r\n            console.log(data)\r\n            this.data = data.checkedEvents\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n     },\r\n     methods:{\r\n        deleteEvent(events){\r\n            this.$swal({\r\n                icon: 'warning',\r\n                title: 'Вы уверены что хотите удалить?',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Да',\r\n                cancelButtonText: 'Отмена'\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    event.preventDefault()\r\n                    let email = this.$store.getters.email\r\n                    let SessionID = this.$store.getters.SessionID\r\n                    needle.post(this.$store.state.serverIp+'/api/deleteEvent', {email: email, event: events, sessionid: SessionID}, {\"json\": true}, function(err, res){\r\n                        if(err) console.log(err)\r\n                        if(res.body == '310'){\r\n                            document.cookie = \"email=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                            document.cookie = \"SessionID=\" + \";expires=Thu, 01 Jan 1970 00:00:01 GMT\"\r\n                            window.location.href = '/login'\r\n                        }\r\n                        Vue.swal({\r\n                            icon: 'success',\r\n                            text: 'Мероприятие успешно удаленно',\r\n                            showConfirmButton: false,\r\n                            timer: 1500,\r\n                            timerProgressBar: true,\r\n                        }).then(() => {\r\n                            window.location.reload()\r\n                        });\r\n                    })\r\n                }\r\n            });\r\n        }\r\n     }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp{\r\n    flex: 1 0 auto;\r\n}\r\n.footer{\r\n    flex: 0 0 auto;\r\n}\r\n.main{\r\n    display: flex;\r\n\tflex-direction: column;\r\n    padding-top: 110px !important;\r\n}\r\n.main{\r\n    background-color: #eef5ff;\r\n    height: 100%;\r\n    padding: 30px 0px 0px;\r\n    min-height: 100vh;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.card{ \r\n    margin-top: 10px !important;\r\n}\r\n.card-body{ \r\n    text-align: left !important;\r\n}\r\n.card-header{\r\n    font-weight: bold;\r\n}\r\n.card-body h5{ \r\n    font-weight: bold;\r\n}\r\n.card-title{\r\n    text-align: center;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}