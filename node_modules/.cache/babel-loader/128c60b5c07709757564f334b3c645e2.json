{"remainingRequest":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\LogIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\LogIn.vue","mtime":1594288331217},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG5lZWRsZSBmcm9tICJuZWVkbGUiOwppbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyLnZ1ZSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzLmVtYWlsICE9ICcnICYmIHRoaXMuJHN0b3JlLmdldHRlcnMuU2Vzc2lvbklEICE9ICcnKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5Vc2VyOiBmdW5jdGlvbiBsb2dpblVzZXIoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZm9ybXNbMF07CiAgICAgIHZhciBlbWFpbCA9IGZvcm0uZWxlbWVudHMuZW1haWwudmFsdWU7CiAgICAgIHZhciBwYXNzd29yZCA9IGZvcm0uZWxlbWVudHMucGFzc3dvcmQudmFsdWU7CgogICAgICB2YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IGNyeXB0by5jcmVhdGVIYXNoKCdtZDUnKS51cGRhdGUocGFzc3dvcmQpLmRpZ2VzdCgiaGV4IikKICAgICAgfTsKICAgICAgbmVlZGxlLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuc2VydmVySXAgKyAnL2FwaS9sb2dpbicsIGRhdGEsIHsKICAgICAgICAianNvbiI6IHRydWUKICAgICAgfSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXMuYm9keSA9PSAnSW5jb3JlY3QgcGFzc3dvcmQnKSB7CiAgICAgICAgICAvL2FsZXJ0KCfQndC10LLQtdGA0L3Ri9C5IGVtYWlsINC40LvQuCDQv9Cw0YDQvtC70YwnKQogICAgICAgICAgVnVlLnN3YWwoewogICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICB0ZXh0OiAn0J3QtdCy0LXRgNC90YvQuSBlbWFpbCDQuNC70Lgg0L/QsNGA0L7Qu9GMJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuYm9keSA9PSAnVXNlciB1bmRlZmluZWQnKSB7CiAgICAgICAgICAvL2FsZXJ0KCfQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0L3QtSDQvdCw0LnQtNC10L0nKQogICAgICAgICAgVnVlLnN3YWwoewogICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICB0ZXh0OiAn0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC90LUg0L3QsNC50LTQtdC9JwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuYm9keS5sZW5ndGggPT0gMTI4KSB7CiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiZW1haWw9IiArIGVtYWlsICsgIjsgZXhwaXJlcz0iICsgbmV3IERhdGUoRGF0ZS5ub3coKSArIDg2NDAwMGUzKS50b1VUQ1N0cmluZygpOwogICAgICAgICAgZG9jdW1lbnQuY29va2llID0gIlNlc3Npb25JRD0iICsgcmVzLmJvZHkgKyAiOyBleHBpcmVzPSIgKyBuZXcgRGF0ZShEYXRlLm5vdygpICsgODY0MDAwZTMpLnRvVVRDU3RyaW5nKCk7CiAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gIi9wcm9maWxlIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dIaWRlUHdkOiBmdW5jdGlvbiBzaG93SGlkZVB3ZCgpIHsKICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhc3N3b3JkIik7CgogICAgICBpZiAoaW5wdXQudHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIGlucHV0LnR5cGUgPSAidGV4dCI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV5ZSIpLmNsYXNzTmFtZSA9ICJmYXIgZmEtZXllIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnB1dC50eXBlID0gInBhc3N3b3JkIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXllIikuY2xhc3NOYW1lID0gImZhciBmYS1leWUtc2xhc2giOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,OAAA,GAAA,MAAA,KAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAFA;AAGA,EAAA,WAHA,yBAGA;AACA,QAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA,IAAA,EAAA,IAAA,KAAA,MAAA,CAAA,OAAA,CAAA,SAAA,IAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,KAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA,MAAA,CAAA,UAAA,CAAA,KAAA,EAAA,MAAA,CAAA,QAAA,EAAA,MAAA,CAAA,KAAA;AAFA,OAAA;AAIA,MAAA,MAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,YAAA,EAAA,IAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,UAAA,GAAA,EAAA,GAAA,EAAA;AACA,YAAA,GAAA,EAAA;AAAA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,mBAAA,EAAA;AACA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA,SANA,MAOA,IAAA,GAAA,CAAA,IAAA,IAAA,gBAAA,EAAA;AACA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA,SANA,MAOA,IAAA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,WAAA,KAAA,GAAA,YAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,GAAA,KAAA,QAAA,EAAA,WAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,eAAA,GAAA,CAAA,IAAA,GAAA,YAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,GAAA,KAAA,QAAA,EAAA,WAAA,EAAA;AACA,UAAA,QAAA,CAAA,QAAA,CAAA,IAAA,GAAA,UAAA;AACA;AACA,OArBA;AAsBA,KAjCA;AAkCA,IAAA,WAlCA,yBAkCA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,UAAA,CAAA;;AACA,UAAA,KAAA,CAAA,IAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,MAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,KAAA,EAAA,SAAA,GAAA,YAAA;AACA,OAHA,MAGA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,UAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,KAAA,EAAA,SAAA,GAAA,kBAAA;AACA;AACA;AA3CA;AARA,CAAA","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"container warp\">\r\n            <form class=\"formbox\">\r\n                <h2>Войти</h2>\r\n                <div class=\"form-group\" style=\"text-align: left\">\r\n                    <label for=\"exampleInputEmail1\">Email адресс</label>\r\n                    <input name=\"email\" class=\"form-control\" placeholder=\"example@gmail.com\" required>\r\n                </div>\r\n                <div style=\"text-align: left\">\r\n                    <label for=\"password\">Пароль</label>\r\n                </div>\r\n                <div class=\"form-label-group input-group\">\r\n                    <input type=\"password\" id=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Пароль\" required>\r\n                    <div class=\"input-group-append\" @click=\"showHidePwd()\" style=\"cursor: pointer\">\r\n                        <span class=\"input-group-text\">\r\n                            <i id=\"eye\" class=\"far fa-eye-slash\"></i>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\"> \r\n                    <button class=\"btn btn-primary btn-lg\" @click=\"loginUser()\">Войти</button>\r\n                </div>\r\n            </form>\r\n            <p><router-link to=\"/registration\" class=\"link\">Еще нет аккаунта? Зарегистрируйтесь</router-link></p>\r\n        </div>\r\n        <div class=\"footer\"><Footer></Footer></div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport needle from \"needle\"\r\nimport Footer from './footer.vue'\r\nimport Vue from 'vue'\r\nexport default {\r\n    name: 'Login',\r\n    components: { Footer },\r\n    beforeMount(){\r\n        if(this.$store.getters.email != '' && this.$store.getters.SessionID != ''){\r\n            this.$router.push(\"/profile\")\r\n        }\r\n    },\r\n    methods: {\r\n        loginUser(){\r\n            event.preventDefault()\r\n            let form = document.forms[0]\r\n            let email = form.elements.email.value\r\n            let password = form.elements.password.value\r\n            let crypto = require('crypto')\r\n            let data = {\r\n                email: email,\r\n                password: crypto.createHash('md5').update(password).digest(\"hex\"), \r\n            }\r\n            needle.post(this.$store.state.serverIp+'/api/login', data, {\"json\": true}, function(err, res){\r\n                if(err){console.log(err)} \r\n                if(res.body == 'Incorect password'){\r\n                    //alert('Неверный email или пароль')\r\n                    Vue.swal({\r\n                        icon: 'error',\r\n                        text: 'Неверный email или пароль'\r\n                    });\r\n                }\r\n                else if(res.body == 'User undefined'){\r\n                    //alert('Пользователь не найден')\r\n                    Vue.swal({\r\n                        icon: 'error',\r\n                        text: 'Пользователь не найден'\r\n                    });\r\n                }\r\n                else if(res.body.length == 128){\r\n                    document.cookie = \"email=\" + email + \"; expires=\" + new Date(Date.now() + 864000e3).toUTCString()\r\n                    document.cookie = \"SessionID=\" + res.body + \"; expires=\" + new Date(Date.now() + 864000e3).toUTCString()\r\n                    document.location.href = \"/profile\"\r\n                }\r\n            })\r\n        },\r\n        showHidePwd() {\r\n            var input = document.getElementById(\"password\");\r\n            if (input.type === \"password\") {\r\n                input.type = \"text\";\r\n                document.getElementById(\"eye\").className = \"far fa-eye\";\r\n            } else {\r\n                input.type = \"password\";\r\n                document.getElementById(\"eye\").className = \"far fa-eye-slash\";\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp{\r\n    flex: 1 0 auto;\r\n    padding-top: 210px !important;\r\n    background-color: #fff;\r\n    padding: 0px 30px;\r\n}\r\n.footer{\r\n    flex: 0 0 auto;\r\n}\r\n.main{\r\n    display: flex;\r\n\tflex-direction: column;\r\n}\r\n.main{\r\n    height: 100%;\r\n    padding: 0px;\r\n    min-height: 100vh;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.main p{\r\n    color: #4f4f50;\r\n    text-align: left !important;\r\n    font-size: 0.86em;\r\n    margin-left: -10px;\r\n}\r\n.link{\r\n    color: #4f4f50;\r\n    text-decoration: none;\r\n}\r\n.link:hover{\r\n    color: #EF5B65;\r\n    text-decoration: none;\r\n}\r\n\r\n.form-label-group {\r\n    position: relative;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\ni:hover {\r\n    cursor: pointer;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}