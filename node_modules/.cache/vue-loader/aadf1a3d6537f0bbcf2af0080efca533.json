{"remainingRequest":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\Admin.vue?vue&type=style&index=0&id=1fd8a062&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\Admin.vue","mtime":1594474968443},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi53YXJwew0KICAgIGZsZXg6IDEgMCBhdXRvOw0KICAgIHBhZGRpbmctdG9wOiAxMTBweCAhaW1wb3J0YW50Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgcGFkZGluZzogMHB4IDMwcHg7DQp9DQouZm9vdGVyew0KICAgIGZsZXg6IDAgMCBhdXRvOw0KfQ0KLm1haW57DQogICAgZGlzcGxheTogZmxleDsNCglmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KfQ0KLm1haW57DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICBtYXJnaW4tYm90dG9tOiAwcHg7DQp9DQoubmF2LXBpbGxzew0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCi5tYWluLWVudGVyLWFjdGl2ZXsNCiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNXM7DQp9DQoubWFpbi1sZWF2ZS1hY3RpdmV7DQogICAgdHJhbnNpdGlvbjogb3BhY2l0eTsNCn0NCi5tYWluLWVudGVyLCAubWFpbi1sZWF2ZS10byAvKiAuZmFkZS1sZWF2ZS1hY3RpdmUg0LTQviDQstC10YDRgdC40LggMi4xLjggKi8gew0KICBvcGFjaXR5OiAwOw0KfQ0KDQouc2hvdy1lbnRlci1hY3RpdmUsIC5hdXRoLWxlYXZlLWFjdGl2ZSB7DQogIHRyYW5zaXRpb246IG9wYWNpdHkgLjVzOw0KfQ0KLnNob3ctZW50ZXIsIC5hdXRoLWxlYXZlLXRvIC8qIC5mYWRlLWxlYXZlLWFjdGl2ZSDQtNC+INCy0LXRgNGB0LjQuCAyLjEuOCAqLyB7DQogIG9wYWNpdHk6IDA7DQp9DQoNCi5wZXJzb257DQogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgIGNvbG9yOiBibGFjazsNCn0NCi5wZXJzb25fYm94OmhvdmVyew0KICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICBjb2xvcjogYmxhY2s7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzYsIDIzNiwgMjM2LCAwLjQ2Nik7DQp9DQoucGVyc29uX2JveHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsMCwwLC4xMjUpOw0KICAgIG1hcmdpbi1ib3R0b206IDAuNGVtOw0KICAgIGJvcmRlci1yYWRpdXM6IDAuMjVlbTsNCiAgICBwYWRkaW5nOiAxZW07DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICANCn0NCi5wZXJzb25fYm94IGF7DQogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KLm5hbWVfZ3JvdXB7DQogICAgZm9udC1zaXplOiAxLjJlbTsNCn0NCg0KLmFyLWNvbGxhcHNlOmFmdGVyew0KICAgIGNvbnRlbnQ6ICJcZjA3OCI7DQogICAgZm9udC1mYW1pbHk6IGZvbnRhd2Vzb21lICFpbXBvcnRhbnQ7DQp9DQouYXItc2hvdzphZnRlcnsNCiAgICBjb250ZW50OiAiXGYwNzciOw0KICAgIGZvbnQtZmFtaWx5OiBmb250YXdlc29tZSAhaW1wb3J0YW50Ow0KfQ0KLmNoYXJ0LWNvbnRhaW5lciB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgaGVpZ2h0OiA1MDBweDsNCiAgd2lkdGg6IDEwMDBweDsNCn0NCi5zY2hvb2x7DQogICAgZm9udC1zaXplOiAxLjJlbTsNCn0NCi5zY2hvb2w6aG92ZXJ7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzYsIDIzNiwgMjM2LCAwLjQ2Nik7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLnNjaG9vbC1ib2R5ew0KICAgIHBhZGRpbmc6IDAuNmVtOw0KfQ0K"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class='main'>\r\n        <div class=\"container warp\">\r\n            <transition-group name=\"auth\">\r\n                <div v-if=\"show\" key=\"div\">\r\n                    <form class=\"formbox\">\r\n                        <h2>Войти</h2>\r\n                        <div class=\"form-group row\">\r\n                            <label for=\"exampleInputEmail1\">Email адресс</label>\r\n                            <input name=\"email\" class=\"form-control\" placeholder=\"example@gmail.com\">\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label for=\"exampleInputPassword1\">Пароль</label>\r\n                            <input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Пароль\">\r\n                        </div>\r\n                        <div class=\"form-group row\"> \r\n                            <button class=\"btn btn-primary btn-lg\" @click=\"loginUser()\">Войти в админ панель</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div v-if=\"!show\" key=\"div\">\r\n                    <ul key=\"ul\" class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\" v-if=\"role == 'teacher'\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link active\" @click=\"showList()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"true\">Список класса</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showTop()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Рейтинг класса</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showAdd()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Обновить список</a>\r\n                        </li>\r\n                    </ul>\r\n                    <ul key=\"ul\" class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\" v-if=\"role == 'school-admin'\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link active\" @click=\"showList()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"true\">Список учителей</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showTop()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Рейтинг школы</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showAdd()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Обновить список</a>\r\n                        </li>\r\n                    </ul>\r\n                    <ul key=\"ul\" class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\" v-if=\"role == 'admin'\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link active schoolList\" @click=\"showSchoolList()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"true\">Список школ</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link list\" @click=\"showList()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Список учителей</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showTop()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Рейтинг школ</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showSchoolAdd()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Добавить школьного администратора</a>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <a class=\"nav-link\" @click=\"showAdd(), getAdmins()\" id=\"pills-home-tab\" data-toggle=\"pill\" role=\"tab\" aria-selected=\"false\">Cписок администраторов</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div key=\"div\" class=\"tab-content\" id=\"pills-tabContent\">\r\n                        <hr>\r\n                        <div v-if=\"role == 'teacher'\">\r\n                            <div v-if=\"ShowList\">\r\n                                <transition-group name=\"main\">\r\n                                    <div class=\"tab-pane fade show active\" id=\"pills-list-student\" v-for=\"item in students\" :key=\"item.person\">\r\n                                        <a class=\"person\" href=\"#\" @click=\"showInfo(item.email)\">\r\n                                            <div class=\"person_box\">\r\n                                                <div class=\"name row\">\r\n                                                    <div class=\"name_group col-10\">{{ item.person }} </div>\r\n                                                    <div class=\"col-1 ar-collapse\" :id='item.email'></div>\r\n                                                    <div class=\"col-1\" ><button class=\"btn btn-danger\" @click=\"deletePerson(item.email, item.name, item.surname, 'student')\"><i class=\"fas fa-trash-alt\"></i></button></div>\r\n                                                </div>\r\n                                                <div :id=\"item.email + 'n'\" style=\"display: none;\">\r\n                                                    <div style=\"text-align: center;\"><i class='fa fa-spinner fa-pulse fa-3x' :id='item.email + \"x\"' style=\"display: inline-block;\"></i></div>\r\n                                                    <form :id=\"'form' + item.email\">\r\n                                                        <input class=\"radio\" :name=\"'donaught' + item.email\" type=\"radio\" value=\"donaught\" checked @click=\"changeInfo(item.email, 'donaught')\"> Кругова диаграмма\r\n                                                        <input class=\"radio\" :name=\"'bar' + item.email\" type=\"radio\" value=\"bar\" @click=\"changeInfo(item.email, 'bar')\"> Столбчатая диаграмма\r\n                                                        <input class=\"radio\" :name=\"'full' + item.email\" type=\"radio\" value=\"full\" @click=\"changeInfo(item.email)\"> Полная статистика\r\n                                                    </form>\r\n                                                    <div class=\"chart-container\" :id=\"'chartDiv' + item.email\" style=\"display: none;\"><canvas :id=\"'chart' + item.email\"></canvas></div>\r\n                                                    <div class=\"chart-container\" :id=\"'chartDiv2' + item.email\" style=\"display: none;\"><canvas :id=\"'chart2' + item.email\"></canvas></div>\r\n                                                    <div :id=\"'chartDiv3' + item.email\" style=\"display: none;\">\r\n                                                        <div v-if=\"data[item.email] != undefined && studentEvents[data.lastIndexOf(item.email)][0].length == 0\"><h3>Нет мероприятий</h3></div>\r\n                                                        <div class=\"card\" v-for=\"item3 in studentEvents[data.lastIndexOf(item.email)][0]\" :key=\"item3.value\">\r\n                                                            <div class=\"card-header\">{{item3.date}}</div>\r\n                                                            <div class=\"card-body\">\r\n                                                                <div class=\"row\">\r\n                                                                    <h5 class=\"card-title col-11\">{{item3.name}}</h5>\r\n                                                                    <h5><button class=\"btn btn-danger\" @click=\"deletePerson(item.email, item.name, item.surname, 'student')\"> <i class=\"fas fa-trash-alt\"></i> </button></h5>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </a>\r\n                                    </div>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowTop\">\r\n                                <transition-group name=\"main\">\r\n                                    <p key=\"p\">Рейтинг тут</p>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowAdd\">\r\n                                <transition-group name=\"main\">\r\n                                    <form key='form' id='formList' style=\"text-align: left; font-size: 1.2em\">\r\n                                        <!-- <input key=\"input\" class=\"radio\" name='list' type=\"radio\" checked @click=\"changeAddInfo('list')\"> <p key=\"p\">Добавить список учеников</p> -->\r\n                                        <!-- <input key=\"input\" class=\"radio\" name='one' type=\"radio\" @click=\"changeAddInfo('one')\"> <p key=\"p\">Добавить ученика</p> -->\r\n                                        <div class=\"form-check row\">\r\n                                            <div class=\"col-12\">\r\n                                                <input key=\"input\" name='list' class=\"form-check-input radio\" type=\"radio\" @click=\"changeAddInfo('list')\" id=\"exampleRadios1\" value=\"option1\" checked>\r\n                                                <label key=\"p\" class=\"form-check-label\" for=\"exampleRadios1\">\r\n                                                    Добавить список учеников\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"form-check row\">\r\n                                            <div class=\"col-12\">\r\n                                                <input  key=\"input\" name='one' class=\"form-check-input radio\" @click=\"changeAddInfo('one')\" type=\"radio\" id=\"exampleRadios2\" value=\"option2\">\r\n                                                <label key=\"p\" class=\"form-check-label\" for=\"exampleRadios2\">\r\n                                                    Добавить ученика\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form> <br key='br'>\r\n                                    <div key=\"div\" v-if=\"ShowAddList\" style=\"text-align: left\">\r\n                                        <p key=\"p\" style=\"font-size:1.3em; text-align: center\"> Загрузите актуальный список Вашего класса в excel файле </p>\r\n                                        <p><input type=\"file\" ref=\"file\" class=\"form-control-file\" @change=\"file()\" key=\"input\"></p>\r\n                                        <p><button type=\"submit\" @click=\"add('!1', 'student')\" class=\"btn btn-primary btn-lg\" key=\"button\">Обновить список</button></p>\r\n                                    </div>\r\n                                    <form key=\"form\" id='formOne' v-if=\"ShowAddOne\" style=\"text-align: left\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon1\">Имя</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"name\" class=\"form-control name\" aria-describedby=\"basic-addon1\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Фамилия</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"surname\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon4\">email</span>\r\n                                                    </div>\r\n                                                    <input class=\"form-control email\" key=\"input\" name=\"email\" placeholder=\"example@gmail.com\" aria-describedby=\"basic-addon4\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- <p key=\"p\">Email </p><input key=\"input\" name=\"email\">\r\n                                        <p key=\"p\">Имя </p><input key=\"input\" name=\"name\">\r\n                                        <p key=\"p\">Фамилия </p><input key=\"input\" name=\"surname\" style=\"margin-bottom: 0.7em\"> -->\r\n                                        <p><button type=\"submit\" @click=\"add('one', 'student')\" class=\"btn btn-primary btn-lg\" key=\"button\">Добавить ученика</button></p>\r\n                                    </form>\r\n                                </transition-group>\r\n                            </div>\r\n                        </div>\r\n                \r\n                        <div v-if=\"role == 'school-admin'\">\r\n                            <div v-if=\"ShowList\">\r\n                                <transition-group name=\"main\">\r\n                                    <div class=\"tab-pane fade show active\" id=\"pills-list-student\" v-for=\"item in teachers\" :key=\"item.person\">\r\n                                        <a class=\"person\" href=\"#\">\r\n                                            <div class=\"person_box\" v-on:click=\"showTeacherInfo(item.email)\">\r\n                                                <div class=\"name row\">\r\n                                                    <div class=\"name_group col-10\">{{ item.person }}</div>\r\n                                                    <div class=\"col-1 ar-collapse\" :id='item.email'></div>\r\n                                                    <div class=\"col-1\" ><button class=\"btn btn-danger\" @click=\"deletePerson(item.email, item.name, item.surname, 'teacher')\"> <i class=\"fas fa-trash-alt\"></i> </button></div>\r\n                                                </div>\r\n                                                <div :id='item.email + \"s\"' style=\"display: none;\">\r\n                                                    <div v-for=\"item2 in students[item.email]\" :key=\"item2.student\" :class=\"item2.email\">\r\n                                                        <a class=\"person\" href=\"#\" @click=\"showInfo(item2.email, item.email)\">\r\n                                                            <div class=\"person_box a\">\r\n                                                                <div class=\"name row\">\r\n                                                                    <div class=\"name_group col-11 a\">{{ item2.student }} </div>\r\n                                                                    <div class=\"col-1 ar-collapse a\" :id='item2.email'></div>\r\n                                                                </div>\r\n                                                                <div :id=\"item2.email + 'n'\" style=\"display: none;\">\r\n                                                                    <div style=\"text-align: center;\"><i class='fa fa-spinner fa-pulse fa-3x' :id='item2.email + \"x\"' style=\"display: inline-block;\"></i></div>\r\n                                                                    <form :id=\"'form' + item2.email\">\r\n                                                                        <input class=\"radio\" :name=\"'donaught' + item2.email\" type=\"radio\" value=\"donaught\" checked @click=\"changeInfo(item2.email, 'donaught')\"> Кругова диаграмма\r\n                                                                        <input class=\"radio\" :name=\"'bar' + item2.email\" type=\"radio\" value=\"bar\" @click=\"changeInfo(item2.email, 'bar')\"> Столбчатая диаграмма\r\n                                                                        <input class=\"radio\" :name=\"'full' + item2.email\" type=\"radio\" value=\"full\" @click=\"changeInfo(item2.email)\"> Полная статистика\r\n                                                                    </form>\r\n                                                                    <div class=\"chart-container\" :id=\"'chartDiv' + item2.email\" style=\"display: none;\"><canvas :id=\"'chart' + item2.email\"></canvas></div>\r\n                                                                    <div class=\"chart-container\" :id=\"'chartDiv2' + item2.email\" style=\"display: none;\"><canvas :id=\"'chart2' + item2.email\"></canvas></div>\r\n                                                                    <div :id=\"'chartDiv3' + item2.email\" style=\"display: none;\">\r\n                                                                        <div v-if=\"studentEvents[item2.email] != undefined && studentEvents[item2.email].length == 0\"><h3>Нет мероприятий</h3></div>\r\n                                                                        <div class=\"card\" v-for=\"item3 in studentEvents[item2.email]\" :key=\"item3.value\">\r\n                                                                            <div class=\"card-header\">{{item3.date}}</div>\r\n                                                                            <div class=\"card-body\">\r\n                                                                                <div class=\"row\">\r\n                                                                                    <h5 class=\"card-title col-11\">{{item3.name}}</h5>\r\n                                                                                </div>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </a>    \r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </a>\r\n                                    </div>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowTop\">\r\n                                <transition-group name=\"main\">\r\n                                    <p key=\"p\">Рейтинг тут</p>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowAdd\">\r\n                               <transition-group name=\"main\">\r\n                                    <form key='form' id='formList' style=\"text-align: left; font-size: 1.2em\">\r\n                                        <!-- <input key=\"input\" class=\"radio\" name='list' type=\"radio\" checked @click=\"changeAddInfo('list')\"> <p key=\"p\">Добавить список учеников</p> -->\r\n                                        <!-- <input key=\"input\" class=\"radio\" name='one' type=\"radio\" @click=\"changeAddInfo('one')\"> <p key=\"p\">Добавить ученика</p> -->\r\n                                        <div class=\"form-check row\">\r\n                                            <div class=\"col-12\">\r\n                                                <input key=\"input\" name='list' class=\"form-check-input radio\" type=\"radio\" @click=\"changeAddInfo('list')\" id=\"exampleRadios1\" value=\"option1\" checked>\r\n                                                <label key=\"p\" class=\"form-check-label\" for=\"exampleRadios1\">\r\n                                                    Добавить список учителей\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"form-check row\">\r\n                                            <div class=\"col-12\">\r\n                                                <input  key=\"input\" name='one' class=\"form-check-input radio\" @click=\"changeAddInfo('one')\" type=\"radio\" id=\"exampleRadios2\" value=\"option2\">\r\n                                                <label key=\"p\" class=\"form-check-label\" for=\"exampleRadios2\">\r\n                                                    Добавить учителя\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form> <br key='br'>\r\n                                    <div key=\"div\" v-if=\"ShowAddList\" style=\"text-align: left\">\r\n                                        <p key=\"p\" style=\"font-size:1.3em; text-align: center\"> Загрузите актуальный список Ваших учителей в excel файле </p>\r\n                                        <p><input type=\"file\" ref=\"file\" class=\"form-control-file\" @change=\"file()\" key=\"input\"></p>\r\n                                        <p><button type=\"submit\" @click=\"add('!1', 'teacher')\" class=\"btn btn-primary btn-lg\" key=\"button\">Обновить список</button></p>\r\n                                    </div>\r\n                                    <form key=\"form\" id='formOne' v-if=\"ShowAddOne\" style=\"text-align: left\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon1\">Имя</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"name\" class=\"form-control name\" aria-describedby=\"basic-addon1\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Фамилия</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"surname\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon4\">email</span>\r\n                                                    </div>\r\n                                                    <input class=\"form-control email\" key=\"input\" name=\"email\" placeholder=\"example@gmail.com\" aria-describedby=\"basic-addon4\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- <p key=\"p\">Email </p><input key=\"input\" name=\"email\">\r\n                                        <p key=\"p\">Имя </p><input key=\"input\" name=\"name\">\r\n                                        <p key=\"p\">Фамилия </p><input key=\"input\" name=\"surname\" style=\"margin-bottom: 0.7em\"> -->\r\n                                        <p><button type=\"submit\" @click=\"add('one', 'teacher')\" class=\"btn btn-primary btn-lg\" key=\"button\">Добавить учителя</button></p>\r\n                                    </form>\r\n                                </transition-group>\r\n                            </div>\r\n                        </div>\r\n                        <div v-if=\"role == 'admin'\">\r\n                            <div v-if=\"ShowSchoolList\">\r\n                                <transition-group name=\"main\">\r\n                                    <div v-for=\"item in schools\" :key=\"item.school\">\r\n                                        <div class=\"card school\" @click=\"getSchoolInfo(item.school)\">\r\n                                            <div class=\"card-body school-body\">\r\n                                                {{item.school}}\r\n                                            </div>\r\n                                        </div> <br>\r\n                                        <!-- <a href='#' class='school' @click=\"getSchoolInfo(item.school)\">{{item.school}}</a><br> -->\r\n                                    </div>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"showAdminInfo\">\r\n                                <transition-group name=\"main\">\r\n                                    <form id='schoolInfo' key=\"form\">\r\n                                        <input name='school' :value=\"schoolName\">\r\n                                        <button type='submit' @click=\"getSchoolInfo()\">Найти информацию по школе</button>\r\n                                    </form> <br key='br'>\r\n                                    <form id=\"formForList\" key=\"form\">\r\n                                        <input class=\"radio\" name=\"school\" type=\"radio\" checked @click=\"changeInfo('school')\"> Список школы\r\n                                        <input class=\"radio\" name=\"admin\" type=\"radio\" @click=\"changeInfo('admin')\"> Список администраторов школы\r\n                                    </form>\r\n                                    <div v-if=\"ShowList\" key=\"div\">\r\n                                        <div class=\"tab-pane fade show active\" id=\"pills-list-student\" v-for=\"item in teachers\" :key=\"item.person\">\r\n                                            <a class=\"person\" href=\"#\">\r\n                                                <div class=\"person_box\" v-on:click=\"getAdminList(item.email, true), showTeacherInfo(item.email)\">\r\n                                                    <div class=\"name row\">\r\n                                                        <div class=\"name_group col-11\">{{ item.person }}</div>\r\n                                                        <div class=\"col-1 ar-collapse\" :id='item.email'></div>\r\n                                                    </div>\r\n                                                    <div :id='item.email + \"s\"' style=\"display: none;\">\r\n                                                        <div v-for=\"item2 in students[item.email]\" :key=\"item2.student\" :class=\"item2.email\">\r\n                                                            <a class=\"person\" href=\"#\" @click=\"showInfo(item2.email, item.email)\">\r\n                                                                <div class=\"person_box a\">\r\n                                                                    <div class=\"name row\">\r\n                                                                        <div class=\"name_group col-11 a\">{{ item2.student }} </div>\r\n                                                                        <div class=\"col-1 ar-collapse a\" :id='item2.email'></div>\r\n                                                                    </div>\r\n                                                                    <div :id=\"item2.email + 'n'\" style=\"display: none;\">\r\n                                                                        <div style=\"text-align: center;\"><i class='fa fa-spinner fa-pulse fa-3x' :id='item2.email + \"x\"' style=\"display: inline-block;\"></i></div>\r\n                                                                        <form :id=\"'form' + item2.email\">\r\n                                                                            <input class=\"radio\" :name=\"'donaught' + item2.email\" type=\"radio\" value=\"donaught\" checked @click=\"changeInfo(item2.email, 'donaught')\"> Кругова диаграмма\r\n                                                                            <input class=\"radio\" :name=\"'bar' + item2.email\" type=\"radio\" value=\"bar\" @click=\"changeInfo(item2.email, 'bar')\"> Столбчатая диаграмма\r\n                                                                            <input class=\"radio\" :name=\"'full' + item2.email\" type=\"radio\" value=\"full\" @click=\"changeInfo(item2.email)\"> Полная статистика\r\n                                                                        </form>\r\n                                                                        <div class=\"chart-container\" :id=\"'chartDiv' + item2.email\" style=\"display: none;\"><canvas :id=\"'chart' + item2.email\"></canvas></div>\r\n                                                                        <div class=\"chart-container\" :id=\"'chartDiv2' + item2.email\" style=\"display: none;\"><canvas :id=\"'chart2' + item2.email\"></canvas></div>\r\n                                                                        <div :id=\"'chartDiv3' + item2.email\" style=\"display: none;\">\r\n                                                                            <div v-if=\"studentEvents[item2.email] != undefined && studentEvents[item2.email].length == 0\"><h3>Нет мероприятий</h3></div>\r\n                                                                            <div class=\"card\" v-for=\"item3 in studentEvents[item2.email]\" :key=\"item3.value\">\r\n                                                                                <div class=\"card-header\">{{item3.date}}</div>\r\n                                                                                <div class=\"card-body\">\r\n                                                                                    <div class=\"row\">\r\n                                                                                        <h5 class=\"card-title col-11\">{{item3.name}}</h5>\r\n                                                                                    </div>\r\n                                                                                </div>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </a>    \r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div v-if=\"ShowAdminList\" key=\"div\">\r\n                                        <div class=\"tab-pane fade show active\" id=\"pills-list-student\" v-for=\"item in schoolAdmins\" :key=\"item.person\">\r\n                                            <div class=\"person\">\r\n                                                <div class=\"person_box\">\r\n                                                    <div class=\"name row\">\r\n                                                        <div class=\"name_group col-11\">{{ item.person }}</div>\r\n                                                        <div class=\"col-1\" ><button class=\"btn btn-danger\" @click=\"deletePerson(item.email, item.name, item.surname, 'school-admin')\"><i class=\"fas fa-trash-alt\"></i></button></div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </transition-group>   \r\n                            </div>\r\n                            <div v-if=\"ShowTop\">\r\n                                <transition-group name=\"main\">\r\n                                    <p key=\"p\">Рейтинг тут</p>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowSchoolAdd\">\r\n                               <transition-group name=\"main\">\r\n                                    <form key=\"form\" id='formOne' style=\"text-align: left\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon1\">Номер</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"name\" class=\"form-control name\" aria-describedby=\"basic-addon1\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Фамилия</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"surname\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Email</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"email\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Номер школы</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"school\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- <p key=\"p\">Email </p><input key=\"input\" name=\"email\">\r\n                                        <p key=\"p\">Имя </p><input key=\"input\" name=\"name\">\r\n                                        <p key=\"p\">Фамилия </p><input key=\"input\" name=\"surname\" style=\"margin-bottom: 0.7em\"> -->\r\n                                        <p><button type=\"submit\" @click=\"add('school-admin', 'school-admin')\" class=\"btn btn-primary btn-lg\" key=\"button\">Добавить школьного администратора</button></p>\r\n                                    </form>\r\n                                </transition-group>\r\n                            </div>\r\n                            <div v-if=\"ShowAdd\">\r\n                               <transition-group name=\"main\">\r\n                                    <form id=\"formForAdmin\" key=\"form\">\r\n                                        <input class=\"radio\" name=\"adminList\" type=\"radio\" checked @click=\"changeInfo('adminList')\"> Список администраторов\r\n                                        <input class=\"radio\" name=\"addAdmin\" type=\"radio\" @click=\"changeInfo('addAdmin')\"> Добавить администратора\r\n                                    </form>\r\n                                    <div v-if=\"AdminList\" key=\"div\">\r\n                                        <div class=\"tab-pane fade show active\" id=\"pills-list-student\" v-for=\"item in admins\" :key=\"item.person\">\r\n                                            <div class=\"person\">\r\n                                                <div class=\"person_box\">\r\n                                                    <div class=\"name row\">\r\n                                                        <div class=\"name_group col-11\">{{ item.person }}</div>\r\n                                                        <div class=\"col-1\" ><button class=\"btn btn-danger\" @click=\"deletePerson(item.email, item.name, item.surname, 'admin')\"><i class=\"fas fa-trash-alt\"></i></button></div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <form key=\"form\" id='formOne' style=\"text-align: left\" v-if=\"AddAdmin\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon1\">Имя</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"name\" class=\"form-control name\" aria-describedby=\"basic-addon1\">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12 col-md-6\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon2\">Фамилия</span>\r\n                                                    </div>\r\n                                                    <input type=\"text\" key=\"input\" name=\"surname\" class=\"form-control surname\" aria-describedby=\"basic-addon2\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12\">\r\n                                                <div class=\"input-group mb-3\">\r\n                                                    <div class=\"input-group-prepend\">\r\n                                                        <span class=\"input-group-text\" id=\"basic-addon4\">email</span>\r\n                                                    </div>\r\n                                                    <input class=\"form-control email\" key=\"input\" name=\"email\" placeholder=\"example@gmail.com\" aria-describedby=\"basic-addon4\">\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- <p key=\"p\">Email </p><input key=\"input\" name=\"email\">\r\n                                        <p key=\"p\">Имя </p><input key=\"input\" name=\"name\">\r\n                                        <p key=\"p\">Фамилия </p><input key=\"input\" name=\"surname\" style=\"margin-bottom: 0.7em\"> -->\r\n                                        <p><button type=\"submit\" @click=\"add('admin', 'admin')\" class=\"btn btn-primary btn-lg\" key=\"button\">Добавить админа</button></p>\r\n                                    </form>\r\n                                </transition-group>\r\n                            </div>\r\n                        </div> \r\n                    </div>\r\n                </div>\r\n            </transition-group>\r\n        </div>\r\n        <div class=\"footer\"><Footer></Footer></div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport needle from 'needle'\r\nimport readXlsxFile from 'read-excel-file'\r\nimport Chart from 'chart.js'\r\nimport Footer from './footer.vue'\r\nimport Vue from 'vue'\r\nexport default {\r\n    name: 'Admin',\r\n    components: { Footer },\r\n    data(){\r\n        return{\r\n            show: true,\r\n            role: '',\r\n            students: [],\r\n            teachers: [],\r\n            admins: [],\r\n            schoolAdmins: [],\r\n            email: this.$store.getters.email,\r\n            classData: [],\r\n            ShowList: true,\r\n            ShowAdminList: false,\r\n            AdminList: true,\r\n            AddAdmin: false,\r\n            ShowSchoolList: false,\r\n            ShowTop: false,\r\n            ShowAdd: false,\r\n            ShowSchoolAdd: false,\r\n            ShowAddList: true,\r\n            showAdminInfo: false,\r\n            ShowAddSchoolList: false,\r\n            ShowAddOne: false,\r\n            ShowAddSchoolOne: false,\r\n            data: [],\r\n            studentEvents: [],\r\n            schools: [],\r\n            schoolName: '',\r\n        }\r\n    },\r\n    methods:{\r\n        loginUser(){\r\n            event.preventDefault()\r\n            let form = document.forms[0]\r\n            let email = form.elements.email.value\r\n            let password = form.elements.password.value\r\n            let crypto = require('crypto')\r\n            fetch(this.$store.state.serverIp+'/api/adminLogin', {\r\n                method: 'POST',\r\n                headers: {email: email, password: crypto.createHash('md5').update(password).digest(\"hex\")},\r\n            })\r\n            .then(response => {\r\n                console.log(\"res\", response)\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                if(data == 'Incorect password'){\r\n                    //alert('Пользователь не найден')\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Пользователь не найден'\r\n                    });\r\n                }\r\n                else if(data != 'user' && data != 'student'){\r\n                    this.show = false\r\n                    this.role = data\r\n                    if(this.role != 'admin') this.getAdminList(this.email)\r\n                    else{\r\n                        this.ShowList = false\r\n                        this.ShowSchoolList = true\r\n                        this.getSchoolList(this.email)\r\n                    }\r\n                }\r\n                else{\r\n                    //alert(\"Неверный email или пароль\")\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Неверный email или пароль или у Вас нет доступа к административной панели'\r\n                    });\r\n                }\r\n                console.log(data)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n            // this.students = [{person: 'Иванова Мария', email: 'v11ru'}, {person: 'Иванов Иван', email: 'v12ru'}, {person: 'Сергеев Сергей', email: 'v13ru'}]\r\n            // this.teachers = [{person: 'Иванова Мария', email: 'v14ru'}, {person: 'Иванов Иван', email: 'v15ru'}, {person: 'Сергеев Сергей', email: 'v16ru'}]\r\n        },\r\n        getAdminList(email, teacher){\r\n            let people = []\r\n            fetch(this.$store.state.serverIp+'/api/getAdminList', {\r\n                method: 'POST',\r\n                headers: {email: email},\r\n            })\r\n            .then(response => {\r\n                console.log(\"res\", response)\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                console.log(data)\r\n                if(this.role == 'teacher'){\r\n                    for(let i = 0; i < data.length; i++){\r\n                        people.push({person: data[i].name + ' ' + data[i].surname, email: data[i].email})\r\n                        this.data.push(data[i].email)\r\n                        this.studentEvents.push([])\r\n                    }\r\n                    this.students = people\r\n                }\r\n                else if(this.role == 'school-admin' || this.role == 'admin'){\r\n                    if(teacher){\r\n                        if(this.students[email].length == 0){\r\n                            for(let i = 0; i < data.length; i++){\r\n                                this.students[email].push({student: data[i].name + ' ' + data[i].surname, email: data[i].email})\r\n                            }\r\n                            console.log(this.students)\r\n                        }\r\n                    }\r\n                    else{\r\n                        for(let i = 0; i < data.length; i++){\r\n                            people.push({person: data[i].name + ' ' + data[i].surname, email: data[i].email})\r\n                            this.data.push(data[i].email)\r\n                            this.$set(this.students, data[i].email, [])\r\n                            console.log(this.students)\r\n                            //this.studentEvents.push([])\r\n                        }\r\n                        this.teachers = people\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        getSchoolInfo(school){\r\n            event.preventDefault()\r\n            let people = []\r\n            if(school){\r\n                this.showList()\r\n                document.querySelector(\".school\").value = school\r\n                this.schoolName = school\r\n                document.querySelector('.list').classList.add('active')\r\n                document.querySelector('.schoolList').classList.remove('active')\r\n            }\r\n            else{\r\n                let form = document.getElementById('schoolInfo')\r\n                this.schoolName = form['school'].value\r\n            }\r\n            fetch(this.$store.state.serverIp+'/api/getListTeacher', {\r\n                method: 'POST',\r\n                headers: {email: this.$store.state.email, sessionid: this.$store.state.SessionID, school: this.schoolName},\r\n            })\r\n            .then(response => {\r\n                console.log(\"res\", response)\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                console.log(data)\r\n                console.log(data[0])\r\n                if(data[1].length == 0){\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Данная школа не зарегистрирована, проверьте точное название во вкладке списка школ'\r\n                    });\r\n                    return\r\n                }\r\n                for(let i = 0; i < data[0].length; i++){\r\n                    people.push({person: data[0][i].name + ' ' + data[0][i].surname, email: data[0][i].email})\r\n                    this.$set(this.students, data[0][i].email, [])\r\n                    console.log(this.students)\r\n                    //this.studentEvents.push([])\r\n                }\r\n                this.teachers = people\r\n                people = []\r\n                for(let i = 0; i < data[1].length; i++){\r\n                    people.push({person: data[1][i].name + ' ' + data[1][i].surname, email: data[1][i].email})\r\n                }\r\n                this.schoolAdmins = people\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        showInfo(email, teacherEmail){\r\n            if(this.role == 'teacher'){\r\n                console.log(event.target.className)\r\n                if(event.target.className != 'chartjs-render-monitor' && event.target.className != 'radio'){\r\n                    for(let i = 0; i < this.students.length; i++){\r\n                        if(document.getElementById(this.students[i].email + 'n').style.display == 'block' && this.students[i].email != email){\r\n                            document.getElementById(this.students[i].email + 'n').style.display = 'none'\r\n                            document.getElementById(this.students[i].email).classList.remove('ar-show');\r\n                        }\r\n                    }\r\n                    if(document.getElementById(email + 'n').style.display == 'block'){\r\n                        document.getElementById(email + 'n').style.display = 'none'\r\n                        document.getElementById(email).classList.remove('ar-show');\r\n                    }\r\n                    else{\r\n                        document.getElementById(email + 'n').style.display = 'block'\r\n                        document.getElementById(email).classList.add('ar-show');\r\n                        if(document.getElementById(email + \"x\").style.display == 'inline-block'){\r\n                            let SessionID = this.$store.getters.SessionID\r\n                            let teacherEmail = this.$store.getters.email\r\n                            fetch(this.$store.state.serverIp+'/api/getCheckedEvents', {\r\n                                method: 'get',\r\n                                headers: {email: teacherEmail, studEmail: email, sessionid: SessionID},\r\n                            })\r\n                            .then(response => {\r\n                                console.log(\"res\", response)\r\n                                return response.json()\r\n                            })\r\n                            .then(datan => {\r\n                                let statistics = datan.stat\r\n                                console.log(this.data)\r\n                                console.log(this.data.lastIndexOf(email))\r\n                                this.studentEvents[this.data.lastIndexOf(email)].push(datan.checkedEvents)\r\n                                console.log(this.studentEvents)\r\n                                console.log(this.studentEvents[this.data.lastIndexOf(email)][0])\r\n                                let ctx = document.getElementById('chart' + email)\r\n                                let ctx2 = document.getElementById('chart2' + email)\r\n                                makeChart('doughnut', [statistics.service, statistics.programming, 0, 0,  statistics.engeniring, 0], ctx)\r\n                                makeChart('bar', [statistics.service, statistics.programming, 0, 0,  statistics.engeniring, 0], ctx2)\r\n                                document.getElementById(email + \"x\").style.display = 'none'\r\n                                document.getElementById('chartDiv' + email).style.display = 'block'\r\n                            })\r\n                            .catch(err => {\r\n                                console.log(err)\r\n                            })\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n            else if(this.role == 'school-admin' || this.role == 'admin'){\r\n                console.log(this.students[teacherEmail])\r\n                if(event.target.className != 'chartjs-render-monitor' && event.target.className != 'radio'){\r\n                    for(let key in this.students[teacherEmail]){\r\n                        console.log(this.students[teacherEmail][key].email)\r\n                        if(document.getElementById(this.students[teacherEmail][key].email + 'n').style.display == 'block' && this.students[teacherEmail][key].email != email){\r\n                            document.getElementById(this.students[teacherEmail][key].email + 'n').style.display = 'none'\r\n                            document.getElementById(this.students[teacherEmail][key].email).classList.remove('ar-show');\r\n                        }\r\n                    }\r\n                    if(document.getElementById(email + 'n').style.display == 'block'){\r\n                        document.getElementById(email + 'n').style.display = 'none'\r\n                        document.getElementById(email).classList.remove('ar-show');\r\n                    }\r\n                    else{\r\n                        document.getElementById(email + 'n').style.display = 'block'\r\n                        document.getElementById(email).classList.add('ar-show');\r\n                        if(document.getElementById(email + \"x\").style.display == 'inline-block'){\r\n                            let SessionID = this.$store.getters.SessionID\r\n                            let adminEmail = this.$store.getters.email\r\n                            fetch(this.$store.state.serverIp+'/api/getCheckedEvents', {\r\n                                method: 'get',\r\n                                headers: {email: teacherEmail, studEmail: email, adminEmail: adminEmail, sessionid: SessionID},\r\n                            })\r\n                            .then(response => {\r\n                                console.log(\"res\", response)\r\n                                return response.json()\r\n                            })\r\n                            .then(datan => {\r\n                                let statistics = datan.stat\r\n                                console.log(datan)\r\n                                this.$set(this.studentEvents, email, datan.checkedEvents)\r\n                                //this.studentEvents[email].push(datan.checkedEvents)\r\n                                console.log(this.studentEvents)\r\n                                let ctx = document.getElementById('chart' + email)\r\n                                let ctx2 = document.getElementById('chart2' + email)\r\n                                makeChart('doughnut', [statistics.service, statistics.programming, 0, 0,  statistics.engeniring, 0], ctx)\r\n                                makeChart('bar', [statistics.service, statistics.programming, 0, 0,  statistics.engeniring, 0], ctx2)\r\n                                document.getElementById(email + \"x\").style.display = 'none'\r\n                                document.getElementById('chartDiv' + email).style.display = 'block'\r\n                            })\r\n                            .catch(err => {\r\n                                console.log(err)\r\n                            })\r\n                        }\r\n                    }\r\n                } \r\n            }\r\n            function makeChart(type, data, place){\r\n                let myChart = new Chart(place, {\r\n                    type: type,\r\n                    data: {\r\n                        labels: ['Сфера услуг', 'IT', 'Творчество и Дизайн', 'Строительство', 'Инжинерные технологии', 'Транспорт и логистика'],\r\n                        datasets: [{\r\n                            label: '# of Votes',\r\n                            data: data,\r\n                            backgroundColor: [\r\n                                'rgba(255, 99, 132, 0.5)',\r\n                                'rgba(54, 162, 235, 0.5)',\r\n                                'rgba(255, 206, 86, 0.5)',\r\n                                'rgba(75, 192, 192, 0.5)',\r\n                                'rgba(153, 102, 255, 0.5)',\r\n                                'rgba(255, 159, 64, 0.5)'\r\n                            ],\r\n                            borderColor: [\r\n                                'rgba(255, 99, 132, 1)',\r\n                                'rgba(54, 162, 235, 1)',\r\n                                'rgba(255, 206, 86, 1)',\r\n                                'rgba(75, 192, 192, 1)',\r\n                                'rgba(153, 102, 255, 1)',\r\n                                'rgba(255, 159, 64, 1)'\r\n                            ],\r\n                            borderWidth: 1,\r\n                            hoverBorderWidth: 5,\r\n                        }]\r\n                    },\r\n                    options: {\r\n                        legend: {\r\n                            position: 'bottom',\r\n                        }\r\n                    }\r\n                });\r\n                console.log(myChart)\r\n            }\r\n        },\r\n        showTeacherInfo(email){\r\n            if(event.target.className == 'person_box' || event.target.className == 'name row' || event.target.className == 'name_group col-11'|| event.target.className == 'col-1 ar-collapse' || event.target.className == 'col-1 ar-collapse ar-show'){\r\n                for(let i = 0; i < this.teachers.length; i++){\r\n                    if(document.getElementById(this.teachers[i].email + 's').style.display == 'block' && this.teachers[i].email != email){\r\n                        document.getElementById(this.teachers[i].email + 's').style.display = 'none'\r\n                        document.getElementById(this.teachers[i].email).classList.remove('ar-show');\r\n                    }\r\n                }\r\n                if(document.getElementById(email + 's').style.display == 'block'){\r\n                    document.getElementById(email + 's').style.display = 'none'\r\n                    document.getElementById(email).classList.remove('ar-show');\r\n                }\r\n                else{\r\n                    document.getElementById(email).classList.add('ar-show');\r\n                    if(document.getElementById(email + 's').style.display == 'none'){\r\n                        if(this.students[email].length == 0){\r\n                            this.getAdminList(email, true)\r\n                        }\r\n                        document.getElementById(email + 's').style.display = 'block'\r\n                    } \r\n                }\r\n            }\r\n        },\r\n        getSchoolList(email){\r\n            fetch(this.$store.state.serverIp+'/api/getSchoolList', {\r\n                method: 'POST',\r\n                headers: {email: email, sessionid: this.$store.getters.SessionID},\r\n            })\r\n            .then(response => {\r\n                console.log(\"res\", response)\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                for(let i = 0; i < data.length; i++){\r\n                    this.schools.push({school: data[i]})\r\n                }\r\n            })\r\n        },\r\n        getAdmins(){\r\n            if(this.admins.length == 0){\r\n                let people = []\r\n                fetch(this.$store.state.serverIp+'/api/getListAdmin', {\r\n                    method: 'POST',\r\n                    headers: {email: this.email},\r\n                })\r\n                .then(response => {\r\n                    console.log(\"res\", response)\r\n                    return response.json()\r\n                })\r\n                .then(data => {\r\n                    for(let i = 0; i < data.length; i++){\r\n                        people.push({person: data[i].name + ' ' + data[i].surname, email: data[i].email})\r\n                    }\r\n                    this.admins = people\r\n                    console.log(this.admins)\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        },\r\n        file(){\r\n            let data = []\r\n            readXlsxFile(this.$refs.file.files[0]).then((rows) => {\r\n                for(let i = 0; i < rows.length; i++){\r\n                    data.push({email: rows[i][0], name: rows[i][1], surname: rows[i][2]})\r\n                }\r\n            })\r\n            this.classData = data\r\n        },\r\n        add(value, type){\r\n            event.preventDefault()\r\n            if(value != '!1'){\r\n                let form = document.getElementById('formOne')\r\n                if(form['email'].value == ''){\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Введите email'\r\n                    });\r\n                }\r\n                else if(form['name'].value == ''){\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Введите имя'\r\n                    });\r\n                }\r\n                else if(form['surname'].value == ''){\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Введите фамилию'\r\n                    });\r\n                }\r\n                else if(value == 'school-admin' && form['school'].value == ''){\r\n                    this.$swal({\r\n                        icon: 'error',\r\n                        text: 'Введите название школы'\r\n                    });\r\n                }\r\n                else{\r\n                    if(value == 'school-admin'){\r\n                        send({email: form['email'].value, name: form['name'].value, surname: form['surname'].value, school: form['school'].value}, this.email, 'uploadOne')\r\n                    }\r\n                    else{\r\n                        send({email: form['email'].value, name: form['name'].value, surname: form['surname'].value}, this.email, 'uploadOne')\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                if(this.classData.length != 0){\r\n                    send(this.classData, this.email, 'uploadTable')\r\n                }\r\n                else this.$swal('Файл не выбран');   //alert('Файл не выбран')\r\n            }\r\n            let dopEmail = this.$store.getters.email\r\n            function send(data, email, url){\r\n                needle.post('http://78.155.219.12:3000/api/' + url, {data: data, email: email, type: 'update', dopType: type, dopEmail: dopEmail}, {\"json\": true}, function(err, res){\r\n                    if(err) throw err\r\n                    if(res.body == 'OK'){\r\n                        //alert('Файл успешно добавлен')\r\n                        Vue.swal({\r\n                            icon: 'success',\r\n                            text: 'Файл успешно добавлен'\r\n                        });\r\n                    }\r\n                    else if(res.body == 'User undefined'){\r\n                        //alert(res.body)\r\n                        Vue.swal('Пользователь с данной почтой не зарегистрирован');\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        showList(){\r\n            event.preventDefault()\r\n            this.ShowList = true\r\n            this.showAdminInfo = true\r\n            this.ShowAdd = false\r\n            this.ShowAdminList = false\r\n            this.ShowSchoolList = false\r\n            this.ShowSchoolAdd = false\r\n            this.ShowTop = false\r\n        },\r\n        showSchoolList(){\r\n            event.preventDefault()\r\n            this.ShowSchoolList = true\r\n            this.showAdminInfo = false\r\n            this.ShowAdd = false\r\n            this.ShowList = false\r\n            this.ShowSchoolAdd = false\r\n            this.ShowTop = false\r\n        },\r\n        showTop(){\r\n            event.preventDefault()\r\n            this.ShowTop = true\r\n            this.ShowList = false\r\n            this.showAdminInfo = false\r\n            this.ShowAdd = false\r\n            this.ShowSchoolList = false\r\n            this.ShowSchoolAdd = false\r\n        },\r\n        showAdd(){\r\n            event.preventDefault()\r\n            this.ShowAdd = true\r\n            this.ShowList = false\r\n            this.showAdminInfo = false\r\n            this.ShowTop = false\r\n            this.ShowSchoolList = false\r\n            this.ShowSchoolAdd = false\r\n        },\r\n        showSchoolAdd(){\r\n            event.preventDefault()\r\n            this.ShowSchoolAdd = true\r\n            this.ShowList = false\r\n            this.ShowTop = false\r\n            this.showAdminInfo = false\r\n            this.ShowSchoolList = false\r\n            this.ShowAdd = false\r\n        },\r\n        changeInfo(email, chart){\r\n            if(this.chart != undefined){\r\n                let form = document.getElementById('form' + email)\r\n                if(chart == 'donaught'){\r\n                    form['bar' + email].checked = false\r\n                    form['full' + email].checked = false\r\n                    document.getElementById('chartDiv' + email).style.display = 'block'\r\n                    document.getElementById('chartDiv2' + email).style.display = 'none'\r\n                    document.getElementById('chartDiv3' + email).style.display = 'none'\r\n                }\r\n                else if(chart == 'bar'){\r\n                    form['donaught' + email].checked = false\r\n                    form['full' + email].checked = false\r\n                    document.getElementById('chartDiv' + email).style.display = 'none'\r\n                    document.getElementById('chartDiv2' + email).style.display = 'block'\r\n                    document.getElementById('chartDiv3' + email).style.display = 'none'\r\n                }\r\n                else{\r\n                    form['donaught' + email].checked = false\r\n                    form['bar' + email].checked = false\r\n                    document.getElementById('chartDiv' + email).style.display = 'none'\r\n                    document.getElementById('chartDiv2' + email).style.display = 'none'\r\n                    document.getElementById('chartDiv3' + email).style.display = 'block'\r\n                }\r\n            }\r\n            else{\r\n                if(this.ShowAdd == false){\r\n                    let form = document.getElementById('formForList')\r\n                    if(email == 'school'){\r\n                        form['admin'].checked = false\r\n                        this.ShowList = true\r\n                        this.ShowAdminList = false\r\n                    }\r\n                    else if(email == 'admin'){\r\n                        form['school'].checked = false\r\n                        this.ShowList = false\r\n                        this.ShowAdminList = true\r\n                    }\r\n                }\r\n                else{\r\n                    let form = document.getElementById('formForAdmin')\r\n                    if(email == 'adminList'){\r\n                        form['addAdmin'].checked = false\r\n                        this.AdminList = true\r\n                        this.AddAdmin = false\r\n                    }\r\n                    else if(email == 'addAdmin'){\r\n                        form['adminList'].checked = false\r\n                        this.AdminList = false\r\n                        this.AddAdmin = true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        changeAddInfo(value){\r\n            let form = document.getElementById('formList')\r\n            if(value == 'list'){\r\n                form['one'].checked = false\r\n                this.ShowAddList = true\r\n                this.ShowAddOne = false\r\n            }\r\n            else{\r\n                form['list'].checked = false\r\n                this.ShowAddList = false\r\n                this.ShowAddOne = true\r\n            }\r\n        },\r\n        deletePerson(email, name, surname, type){\r\n            event.preventDefault()\r\n            let data = {\r\n                email: email,\r\n                name: name,\r\n                surname: surname,\r\n            }\r\n            this.$swal({\r\n                icon: 'warning',\r\n                title: 'Вы уверены что хотите удалить?',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Да',\r\n                cancelButtonText: 'Отмена'\r\n            }).then((result) => {\r\n                 if (result.value) {\r\n                     needle.post(this.$store.state.serverIp+'/api/uploadOne', {data: data, email: email, type: 'delete', dopType: type}, {\"json\": true}, function(err, res){\r\n                        if(err) throw err\r\n                        if(res.body == 'OK'){\r\n                            //alert('Файл успешно добавлен')\r\n                            Vue.swal({\r\n                                icon: 'success',\r\n                                text: 'Ученик успешно удален'\r\n                            });\r\n                            window.location.reload\r\n                        }\r\n                        else{\r\n                            //alert(res.body)\r\n                            Vue.swal(res.body);\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp{\r\n    flex: 1 0 auto;\r\n    padding-top: 110px !important;\r\n    background-color: #fff;\r\n    padding: 0px 30px;\r\n}\r\n.footer{\r\n    flex: 0 0 auto;\r\n}\r\n.main{\r\n    display: flex;\r\n\tflex-direction: column;\r\n}\r\n.main{\r\n    height: 100%;\r\n    padding: 0px;\r\n    min-height: 100vh;\r\n    margin-bottom: 0px;\r\n}\r\n.nav-pills{\r\n    cursor: pointer;\r\n}\r\n.main-enter-active{\r\n  transition: opacity .5s;\r\n}\r\n.main-leave-active{\r\n    transition: opacity;\r\n}\r\n.main-enter, .main-leave-to /* .fade-leave-active до версии 2.1.8 */ {\r\n  opacity: 0;\r\n}\r\n\r\n.show-enter-active, .auth-leave-active {\r\n  transition: opacity .5s;\r\n}\r\n.show-enter, .auth-leave-to /* .fade-leave-active до версии 2.1.8 */ {\r\n  opacity: 0;\r\n}\r\n\r\n.person{\r\n    text-decoration: none;\r\n    color: black;\r\n}\r\n.person_box:hover{\r\n    text-decoration: none;\r\n    color: black;\r\n    background-color: rgba(236, 236, 236, 0.466);\r\n}\r\n.person_box{\r\n    border: 1px solid rgba(0,0,0,.125);\r\n    margin-bottom: 0.4em;\r\n    border-radius: 0.25em;\r\n    padding: 1em;\r\n    text-align: left;\r\n    \r\n}\r\n.person_box a{\r\n    text-decoration: none;\r\n}\r\n.name_group{\r\n    font-size: 1.2em;\r\n}\r\n\r\n.ar-collapse:after{\r\n    content: \"\\f078\";\r\n    font-family: fontawesome !important;\r\n}\r\n.ar-show:after{\r\n    content: \"\\f077\";\r\n    font-family: fontawesome !important;\r\n}\r\n.chart-container {\r\n  position: relative;\r\n  height: 500px;\r\n  width: 1000px;\r\n}\r\n.school{\r\n    font-size: 1.2em;\r\n}\r\n.school:hover{\r\n    background-color: rgba(236, 236, 236, 0.466);\r\n    cursor: pointer;\r\n}\r\n.school-body{\r\n    padding: 0.6em;\r\n}\r\n</style>"]}]}