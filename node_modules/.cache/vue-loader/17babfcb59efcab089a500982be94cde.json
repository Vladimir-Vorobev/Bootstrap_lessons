{"remainingRequest":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\LogIn.vue?vue&type=style&index=0&id=51b0eb09&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\src\\components\\LogIn.vue","mtime":1594288331217},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vovav\\Desktop\\ProfEvents\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoud2FycHsNCiAgICBmbGV4OiAxIDAgYXV0bzsNCiAgICBwYWRkaW5nLXRvcDogMjEwcHggIWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIHBhZGRpbmc6IDBweCAzMHB4Ow0KfQ0KLmZvb3RlcnsNCiAgICBmbGV4OiAwIDAgYXV0bzsNCn0NCi5tYWluew0KICAgIGRpc3BsYXk6IGZsZXg7DQoJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCi5tYWluew0KICAgIGhlaWdodDogMTAwJTsNCiAgICBwYWRkaW5nOiAwcHg7DQogICAgbWluLWhlaWdodDogMTAwdmg7DQogICAgbWFyZ2luLWJvdHRvbTogMHB4Ow0KfQ0KDQoubWFpbiBwew0KICAgIGNvbG9yOiAjNGY0ZjUwOw0KICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsNCiAgICBmb250LXNpemU6IDAuODZlbTsNCiAgICBtYXJnaW4tbGVmdDogLTEwcHg7DQp9DQoubGlua3sNCiAgICBjb2xvcjogIzRmNGY1MDsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQoubGluazpob3ZlcnsNCiAgICBjb2xvcjogI0VGNUI2NTsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQoNCi5mb3JtLWxhYmVsLWdyb3VwIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgbWFyZ2luLWJvdHRvbTogMXJlbTsNCn0NCg0KaTpob3ZlciB7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0K"},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"LogIn.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"container warp\">\r\n            <form class=\"formbox\">\r\n                <h2>Войти</h2>\r\n                <div class=\"form-group\" style=\"text-align: left\">\r\n                    <label for=\"exampleInputEmail1\">Email адресс</label>\r\n                    <input name=\"email\" class=\"form-control\" placeholder=\"example@gmail.com\" required>\r\n                </div>\r\n                <div style=\"text-align: left\">\r\n                    <label for=\"password\">Пароль</label>\r\n                </div>\r\n                <div class=\"form-label-group input-group\">\r\n                    <input type=\"password\" id=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Пароль\" required>\r\n                    <div class=\"input-group-append\" @click=\"showHidePwd()\" style=\"cursor: pointer\">\r\n                        <span class=\"input-group-text\">\r\n                            <i id=\"eye\" class=\"far fa-eye-slash\"></i>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\"> \r\n                    <button class=\"btn btn-primary btn-lg\" @click=\"loginUser()\">Войти</button>\r\n                </div>\r\n            </form>\r\n            <p><router-link to=\"/registration\" class=\"link\">Еще нет аккаунта? Зарегистрируйтесь</router-link></p>\r\n        </div>\r\n        <div class=\"footer\"><Footer></Footer></div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport needle from \"needle\"\r\nimport Footer from './footer.vue'\r\nimport Vue from 'vue'\r\nexport default {\r\n    name: 'Login',\r\n    components: { Footer },\r\n    beforeMount(){\r\n        if(this.$store.getters.email != '' && this.$store.getters.SessionID != ''){\r\n            this.$router.push(\"/profile\")\r\n        }\r\n    },\r\n    methods: {\r\n        loginUser(){\r\n            event.preventDefault()\r\n            let form = document.forms[0]\r\n            let email = form.elements.email.value\r\n            let password = form.elements.password.value\r\n            let crypto = require('crypto')\r\n            let data = {\r\n                email: email,\r\n                password: crypto.createHash('md5').update(password).digest(\"hex\"), \r\n            }\r\n            needle.post(this.$store.state.serverIp+'/api/login', data, {\"json\": true}, function(err, res){\r\n                if(err){console.log(err)} \r\n                if(res.body == 'Incorect password'){\r\n                    //alert('Неверный email или пароль')\r\n                    Vue.swal({\r\n                        icon: 'error',\r\n                        text: 'Неверный email или пароль'\r\n                    });\r\n                }\r\n                else if(res.body == 'User undefined'){\r\n                    //alert('Пользователь не найден')\r\n                    Vue.swal({\r\n                        icon: 'error',\r\n                        text: 'Пользователь не найден'\r\n                    });\r\n                }\r\n                else if(res.body.length == 128){\r\n                    document.cookie = \"email=\" + email + \"; expires=\" + new Date(Date.now() + 864000e3).toUTCString()\r\n                    document.cookie = \"SessionID=\" + res.body + \"; expires=\" + new Date(Date.now() + 864000e3).toUTCString()\r\n                    document.location.href = \"/profile\"\r\n                }\r\n            })\r\n        },\r\n        showHidePwd() {\r\n            var input = document.getElementById(\"password\");\r\n            if (input.type === \"password\") {\r\n                input.type = \"text\";\r\n                document.getElementById(\"eye\").className = \"far fa-eye\";\r\n            } else {\r\n                input.type = \"password\";\r\n                document.getElementById(\"eye\").className = \"far fa-eye-slash\";\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.warp{\r\n    flex: 1 0 auto;\r\n    padding-top: 210px !important;\r\n    background-color: #fff;\r\n    padding: 0px 30px;\r\n}\r\n.footer{\r\n    flex: 0 0 auto;\r\n}\r\n.main{\r\n    display: flex;\r\n\tflex-direction: column;\r\n}\r\n.main{\r\n    height: 100%;\r\n    padding: 0px;\r\n    min-height: 100vh;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.main p{\r\n    color: #4f4f50;\r\n    text-align: left !important;\r\n    font-size: 0.86em;\r\n    margin-left: -10px;\r\n}\r\n.link{\r\n    color: #4f4f50;\r\n    text-decoration: none;\r\n}\r\n.link:hover{\r\n    color: #EF5B65;\r\n    text-decoration: none;\r\n}\r\n\r\n.form-label-group {\r\n    position: relative;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\ni:hover {\r\n    cursor: pointer;\r\n}\r\n</style>"]}]}